{\rtf1\ansi\ansicpg1252\cocoartf1561\cocoasubrtf200
{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;\f1\fnil\fcharset0 Menlo-Bold;\f2\fswiss\fcharset0 Helvetica;
}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red255\green255\blue255;\red92\green38\blue153;
\red28\green0\blue207;\red63\green110\blue116;\red38\green71\blue75;\red196\green26\blue22;\red46\green13\blue110;
\red0\green116\blue0;}
{\*\expandedcolortbl;;\csgenericrgb\c0\c0\c0;\csgray\c100000;\csgenericrgb\c35900\c14900\c60100;
\csgenericrgb\c11000\c0\c81000;\csgenericrgb\c24700\c43100\c45600;\csgenericrgb\c14900\c27800\c29400;\csgenericrgb\c77000\c10200\c8600;\csgenericrgb\c18100\c5200\c43100;
\csgenericrgb\c0\c45600\c0;}
\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\deftab543
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0

\f0\fs22 \cf2 \CocoaLigature0 Bids are sorted in descending order with respect to price. If multiple bids assume the same price, then they are sorted in ascending order with respect to their timestamp. As illustrated below, bids with preceding timestamps trump other price-equivalent bids.
\f1\b \
\
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0

\f0\b0 \cf2 \cb3 \CocoaLigature1     \cf4 \cb3 milliseconds\cf2 \cb3  b1(\cf5 \cb3 900\cf2 \cb3 ), b2(\cf5 \cb3 908\cf2 \cb3 ), b3(\cf5 \cb3 905\cf2 \cb3 ), b4(\cf5 \cb3 857\cf2 \cb3 ), b5(\cf5 \cb3 1000\cf2 \cb3 ), b6(\cf5 \cb3 830\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 Offer\cf2 \cb3  bid1(\cf5 \cb3 101.5\cf2 \cb3 , \cf5 \cb3 400\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b1), bid2(\cf5 \cb3 101.25\cf2 \cb3 , \cf5 \cb3 200\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b2), bid3(\cf5 \cb3 101.75\cf2 \cb3 , \cf5 \cb3 500\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b3), bid4(\cf5 \cb3 101.5\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b4), bid5(\cf5 \cb3 102.05\cf2 \cb3 ,\cf5 \cb3 100\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b5), bid6(\cf5 \cb3 100.1\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b6);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 Market\cf2 \cb3  Mark1(\cf8 \cb3 "IBM"\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid1);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid2);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid3);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid4);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 " Bids after inserting all bids: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 remove_front\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 " Bids after deleting front: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid4);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid6);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid3);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 " Bids after inserting more bids: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Mark1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f1\b \cf2 \cb1 \CocoaLigature0 \
\
OUTPUT:\
\
 Bids after inserting all bids: \
-------------------------------\
| 102.05    100           1000|\
-------------------------------\
-------------------------------\
| 101.75    500            905|\
-------------------------------\
-------------------------------\
| 101.5   1000            857|\
-------------------------------\
-------------------------------\
| 101.5    400            900|\
-------------------------------\
-------------------------------\
| 101.25    200            908|\
-------------------------------\
\
\
 Bids after deleting front: \
-------------------------------\
| 101.75    500            905|\
-------------------------------\
-------------------------------\
| 101.5   1000            857|\
-------------------------------\
-------------------------------\
| 101.5    400            900|\
-------------------------------\
-------------------------------\
| 101.25    200            908|\
-------------------------------\
\
\
 Bids after inserting more bids: \
-------------------------------\
| 101.75    500            905|\
-------------------------------\
-------------------------------\
| 101.75    500            905|\
-------------------------------\
-------------------------------\
| 101.5   1000            857|\
-------------------------------\
-------------------------------\
| 101.5   1000            857|\
-------------------------------\
-------------------------------\
| 101.5    400            900|\
-------------------------------\
-------------------------------\
| 101.25    200            908|\
-------------------------------\
-------------------------------\
| 100.1   1000            830|\
-------------------------------\
\
\
Program ended with exit code: 0
\f2\b0\fs24 \cf0 \cb3 \CocoaLigature1 \

\f0\fs22 \cf2      \
NOTE: Format of offers is: [Price, Qty, Timestamp]\
\
Asks are handled very similarly to bids except they are sorted in ascending order (i.e., the best ask is the ask with the lowest price).\
\
CODE:\
\
    \cf6 \cb3 Market\cf2 \cb3  ECN1(\cf8 \cb3 "IBM"\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2         \cf4 \cb3 milliseconds\cf2 \cb3  a1(\cf5 \cb3 900\cf2 \cb3 ), a2(\cf5 \cb3 908\cf2 \cb3 ), a3(\cf5 \cb3 905\cf2 \cb3 ), a4(\cf5 \cb3 857\cf2 \cb3 ), a5(\cf5 \cb3 834\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2          \cf6 \cb3 Offer\cf2 \cb3  ask1(\cf5 \cb3 100.1\cf2 \cb3 , \cf5 \cb3 400\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a1), ask2(\cf5 \cb3 100.33\cf2 \cb3 , \cf5 \cb3 200\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a2), ask3(\cf5 \cb3 99.83\cf2 \cb3 , \cf5 \cb3 500\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a3), ask4(\cf5 \cb3 100.1\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a4), ask5(\cf5 \cb3 100.03\cf2 \cb3 ,\cf5 \cb3 100\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask1);
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask2);
\f2\fs24 \cf0 \

\f0\fs22 \cf2         \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "After inserting ask1 & ask2: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2          ECN1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask3);
\f2\fs24 \cf0 \

\f0\fs22 \cf2         \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "After inserting ask3: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2          ECN1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask4);
\f2\fs24 \cf0 \

\f0\fs22 \cf2         \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "After inserting ask4: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2          ECN1.\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2         \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "After inserting ask5: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 remove_front\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2         \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "After deleting front: "\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2         ECN1.\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );\
\
\
OUTPUT:\
\
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0

\f1\b \cf2 \cb1 \CocoaLigature0 After inserting ask1 & ask2: \
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
After inserting ask3: \
-------------------------------\
| 99.83    500            905|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
After inserting ask4: \
-------------------------------\
| 99.83    500            905|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
After inserting ask5: \
-------------------------------\
| 99.83    500            905|\
-------------------------------\
-------------------------------\
| 100.03    100            834|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
After deleting front: \
-------------------------------\
| 100.03    100            834|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
Program ended with exit code: 0\
\
\
\

\f0\b0 Here\'92s an example of transaction processing by the ECN (bid initiating transaction):\
\
CODE:\cf2 \cb3 \CocoaLigature1 \
\
   \cf4 \cb3 milliseconds\cf2 \cb3  a1(\cf5 \cb3 900\cf2 \cb3 ), a2(\cf5 \cb3 908\cf2 \cb3 ), a3(\cf5 \cb3 905\cf2 \cb3 ), a4(\cf5 \cb3 857\cf2 \cb3 ), a5(\cf5 \cb3 834\cf2 \cb3 );
\f2\fs24 \cf0 \
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0

\f0\fs22 \cf2     \cf6 \cb3 Offer\cf2 \cb3  ask1(\cf5 \cb3 100.1\cf2 \cb3 , \cf5 \cb3 400\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a1), ask2(\cf5 \cb3 100.33\cf2 \cb3 , \cf5 \cb3 200\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a2), ask3(\cf5 \cb3 99.83\cf2 \cb3 , \cf5 \cb3 500\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a3), ask4(\cf5 \cb3 100.1\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a4), ask5(\cf5 \cb3 100.03\cf2 \cb3 ,\cf5 \cb3 100\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 ECN\cf2 \cb3  Sample_ECN(\cf8 \cb3 "IBM"\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask1);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask2);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask3);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask4);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (ask5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Asks (Before transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Bids (Before transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f2\fs24 \cf0 \
\

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf10 //creating a sample bid
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 Offer\cf2 \cb3  bid1(\cf5 \cb3 99.83\cf2 \cb3 , \cf5 \cb3 200\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , a1);
\f2\fs24 \cf0 \
\

\f0\fs22 \cf2     Sample_ECN.\cf7 \cb3 ParseOffer\cf2 \cb3 (bid1);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Asks (After transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Bids (After transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );\
\
\
OUTPUT: \
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0

\f1\b \cf2 \cb1 \CocoaLigature0 Current Bids (Before transaction):
\f0\b0 \cf2 \cb3 \CocoaLigature1 \

\f1\b \cf2 \cb1 \CocoaLigature0 -------------------------------\
| 99.83    500            905|\
-------------------------------\
-------------------------------\
| 100.03    100            834|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
Current Bids (Before transaction):\
\
\
\
Current Asks (After transaction):\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
Current Bids (After transaction):\
-------------------------------\
| 100.05    200            900|\
-------------------------------\
\
\
Program ended with exit code: 0\
\
\

\f0\b0 Same code as above, except with a bid of price 105.
\f1\b \
\

\f0\b0 OUTPUT:\cf2 \cb3 \CocoaLigature1 \

\f1\b \cf2 \cb1 \CocoaLigature0 Current Asks (Before transaction):\
-------------------------------\
| 99.83    500            905|\
-------------------------------\
-------------------------------\
| 100.03    100            834|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
Current Bids (Before transaction):\
\
\
NOTE: Current asks or current bids is empty\
Current Asks (After transaction):\
-------------------------------\
| 100.1    800            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
Current Bids (After transaction):\
\
\
Program ended with exit code: 0\
\
\
\

\f0\b0 Same code as above except with a bid price of 99.83 with Qty = 200\
\
OUTPUT:
\f1\b \
\
\
Current Asks (Before transaction):\
-------------------------------\
| 99.83    500            905|\
-------------------------------\
-------------------------------\
| 100.03    100            834|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
Current Bids (Before transaction):\
\
\
NOTE: Current asks or current bids is empty\
Current Asks (After transaction):\
-------------------------------\
| 99.83    300            905|\
-------------------------------\
-------------------------------\
| 100.03    100            834|\
-------------------------------\
-------------------------------\
| 100.1   1000            857|\
-------------------------------\
-------------------------------\
| 100.1    400            900|\
-------------------------------\
-------------------------------\
| 100.33    200            908|\
-------------------------------\
\
\
Current Bids (After transaction):\
\
\
Program ended with exit code: 0\
\
\

\f0\b0 Here\'92s a sample of an ask initiating a transaction:\
\
CODE:\
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0
\cf2 \cb3 \CocoaLigature1     \cf4 \cb3 milliseconds\cf2 \cb3  b1(\cf5 \cb3 900\cf2 \cb3 ), b2(\cf5 \cb3 908\cf2 \cb3 ), b3(\cf5 \cb3 905\cf2 \cb3 ), b4(\cf5 \cb3 857\cf2 \cb3 ), b5(\cf5 \cb3 1000\cf2 \cb3 ), b6(\cf5 \cb3 830\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 milliseconds\cf2 \cb3  a1(\cf5 \cb3 900\cf2 \cb3 ), a2(\cf5 \cb3 908\cf2 \cb3 ), a3(\cf5 \cb3 905\cf2 \cb3 ), a4(\cf5 \cb3 857\cf2 \cb3 ), a5(\cf5 \cb3 834\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 Offer\cf2 \cb3  bid1(\cf5 \cb3 101.5\cf2 \cb3 , \cf5 \cb3 400\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b1), bid2(\cf5 \cb3 101.25\cf2 \cb3 , \cf5 \cb3 200\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b2), bid3(\cf5 \cb3 101.75\cf2 \cb3 , \cf5 \cb3 500\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b3), bid4(\cf5 \cb3 101.5\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b4), bid5(\cf5 \cb3 102.05\cf2 \cb3 ,\cf5 \cb3 100\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b5), bid6(\cf5 \cb3 100.1\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Bid\cf2 \cb3 , b6);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 Offer\cf2 \cb3  ask1(\cf5 \cb3 100.1\cf2 \cb3 , \cf5 \cb3 400\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a1), ask2(\cf5 \cb3 100.33\cf2 \cb3 , \cf5 \cb3 200\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a2), ask3(\cf5 \cb3 99.83\cf2 \cb3 , \cf5 \cb3 500\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a3), ask4(\cf5 \cb3 100.1\cf2 \cb3 ,\cf5 \cb3 1000\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a4), ask5(\cf5 \cb3 100.03\cf2 \cb3 ,\cf5 \cb3 100\cf2 \cb3 , \cf7 \cb3 Ask\cf2 \cb3 , a5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf6 \cb3 ECN\cf2 \cb3  Sample_ECN(\cf8 \cb3 "IBM"\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid1);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid2);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid3);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid4);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 NEW_insert_offer\cf2 \cb3 (bid5);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Bids (Before transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Asks (Before transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf7 \cb3 ParseOffer\cf2 \cb3 (ask1);
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Bids (After transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Bid\cf2 \cb3 );
\f2\fs24 \cf0 \

\f0\fs22 \cf2     \cf4 \cb3 cout\cf2 \cb3  << \cf8 \cb3 "Current Asks (After transaction):"\cf2 \cb3  << \cf9 \cb3 endl\cf2 \cb3 ;
\f2\fs24 \cf0 \

\f0\fs22 \cf2     Sample_ECN.\cf6 \cb3 market\cf2 \cb3 .\cf7 \cb3 Print_Offers\cf2 \cb3 (\cf7 \cb3 Ask\cf2 \cb3 );\cf2 \cb1 \CocoaLigature0 \
\pard\tx543\pardeftab543\pardirnatural\partightenfactor0

\f1\b \cf2 \
\
OUTPUT:\
\
Current Bids (Before transaction):\
-------------------------------\
| 102.05    100           1000|\
-------------------------------\
-------------------------------\
| 101.75    500            905|\
-------------------------------\
-------------------------------\
| 101.5   1000            857|\
-------------------------------\
-------------------------------\
| 101.5    400            900|\
-------------------------------\
-------------------------------\
| 101.25    200            908|\
-------------------------------\
\
\
Current Asks (Before transaction):\
\
\
NOTE: Current asks or current bids is empty\
Current Bids (After transaction):\
-------------------------------\
| 101.75    200            905|\
-------------------------------\
-------------------------------\
| 101.5   1000            857|\
-------------------------------\
-------------------------------\
| 101.5    400            900|\
-------------------------------\
-------------------------------\
| 101.25    200            908|\
-------------------------------\
\
\
Current Asks (After transaction):\
\
\
Program ended with exit code: 0
\f0\b0 \cf2 \cb3 \CocoaLigature1 \

\f1\b \cf2 \cb1 \CocoaLigature0 \
\
}